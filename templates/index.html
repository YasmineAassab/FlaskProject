{% extends 'base.html' %}

<!-- Title -->
{% block head %}
    <title>XML Validator</title>
    <link rel="stylesheet" href="/static/style.css" />
{% endblock %}

<!-- body -->
{% block body %}
     <main>
      <div class="big-wrapper light">
          <img src="{{url_for('static', filename='shape.png')}}" alt="" class="shape" />
        <header> </header>
        <div class="showcase-area">
          <div class="container">
            <div class="left" style="margin-left: 50px; ">
                <h4 class="big-title">XML Validator </h4>
             <br/>
             <br>
                <p>XML validator against a DTD and XML Schema (internal and external)</p>
              <br>
                  <label class="text">Upload an XML document :</label><br>
            <div style="display: flex;">
                <div class="form1">
                  <form method="POST" enctype="multipart/form-data" action="/validationByFile">
                    <div style="display: flex;position:absolute; align-items: center;left: 32%;margin-top: 25px; transform: translate(-50%,-50%);">
                      <div>
                        <label id="label" for="upload">Choose file</label>
                        <input type="file" name="xmlfile" accept=".xml" required id="upload" hidden>
                      </div>
                      <div class="file-name">No file chosen</div>
                    </div>
                    <br>
                    <br>
                    <br>
                    <br>
                    <br>
                    <label class="text">Upload an DTD file or XSD file :</label><br />
                    <div style="display: flex;position:absolute; align-items: center;left: 32%;margin-top: 30px; transform: translate(-50%,-50%);">
                      <div>
                        <label id="label2" for="upload2">Choose file</label>
                        <input type="file" name="validatorfile" accept=".dtd, .xsd" id="upload2" hidden>
                      </div>
                      <div class="file-name2">No file chosen</div>
                    </div>
                <br>
                <br>
                <br>
                    <button class="button-72" type="submit" role="button">Validate</button>
                      <br><br>
                    <label for="">{{ messageFile }}</label>
                  </form>
                </div>
            </div>
                        <br/>
        <div>
            <p>Enter the data in the fields : </p>
        </div>
        <form method="POST" enctype="multipart/form-data" action="{{ url_for('validationByText') }}">
          <div style="display: flex;position:relative; left: 50%;margin-top: 10px; ">
          <div>
            <label style="margin-bottom:50px" for="xmltextarea">XML document :</label>
            <br />
            <br>
            <textarea id="xmltextarea" name="xmltextarea" rows="700" cols="53" required></textarea>
          </div>
          <br />
          <br />
          <div>
            <label style="margin-left:20px " for="validatortextarea">Validator document :</label>
            <br />
            <br />
            <textarea style="margin-left:20px ;" id="validatortextarea" name="validatortextarea" rows="700" cols="53"></textarea>
            <br>
            <button style="margin-top: 10px; margin-left: -65px" class="button-72" type="submit" role="button">Validate</button>
              <br>
            <label for="">{{ messageTxt }}</label>
          </div>
          </div>
          <br>
          <br>
        </form>
            </div>
            <div class="right">
                <img src="{{url_for('static', filename='tt.png')}}" alt="Person Image" class="person" style="margin-bottom: 350px;" />
            <br>
            </div>
          </div>
        </div>
        <div class="bottom-area">
          <div class="container">
            <button class="toggle-btn">
              <i class="far fa-moon"></i>
              <i class="far fa-sun"></i>
            </button>
          </div>
        </div>
      </div>
    </main>
    <!-- JavaScript Files -->
  <script>
    const defaultBtn = document.querySelector("#upload");
    const custumBtn = document.querySelector("#label");
    const fileName = document.querySelector(".file-name");
    let regExp = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;
    function active() {
      defaultBtn.click();
    }
    defaultBtn.addEventListener("change", function () {
      if (this.value) {
        let nameValue = this.value.match(regExp);
        fileName.style.display = "block";
        fileName.textContent = nameValue;
      }else{

          fileName.style.display = "block";
             fileName.textContent = "No file chosen";
      }
    });



    const defaultBtn2 = document.querySelector("#upload2");
    const custumBtn2 = document.querySelector("#label2");
    const fileName2 = document.querySelector(".file-name2");
    let regExp2 = /[0-9a-zA-Z\^\&\'\@\{\}\[\]\,\$\=\!\-\#\(\)\.\%\+\~\_ ]+$/;
    function active() {
      defaultBtn2.click();
    }
    defaultBtn2.addEventListener("change", function () {
      if (this.value) {
        let nameValue2 = this.value.match(regExp2);

        fileName2.style.display = "block";
      fileName2.textContent = nameValue2;
      } else {

        fileName2.style.display = "block";
        fileName2.textContent = "No file chosen";
      }
    });

  </script>
    <!-- JavaScript Files -->
    <script src="https://kit.fontawesome.com/a81368914c.js"></script>
    <script src="/static/app.js"></script>

{% endblock %}